import numpy as np
import matplotlib.pyplot as plt

# results in 52 scene places, exclude the 'unknown place'
utility_matrix = [0.05015646944923278, 0.04709587283921866, 0.07808178440644324, 0.35676115198323927, 0.01704689087815989, 0.16695016073497712, 0.16870345273804707, 0.2419437703510169, 0.8104370381153563, 0.3160791817180269, 0.3578623720102987, 0.1967593256065131, 0.5927492266395706, 0.08592427437249132, 0.11065591746065448, 0.027532140389334152, 0.0282109762087139, 0.009189885879206182, 0.17646075789048907, 0.30250467009133397, 0.02275257285432777, 0.08898189762705472, 0.03350696133731247, 0.03724131965932577, 0.24246299675889843, 0.07179329062422052, 0.21768608207234158, 0.19112354101038564, 0.0217359673847169, 0.08124878171748642, 0.9695992680813259, 0.05200048465976873, 0.03235530233951969, 0.04765845249365309, 0.03374391430776348, 0.034367545511543654, 0.025945280645366536, 0.02545643371688916, 0.195296980086405, 0.03711209622863649, 0.06885977062317764, 0.3429423832336439, 0.11861207818062454, 0.1217837318487391, 0.8868464115449809, 0.10666969950581247, 0.28407719793151087, 0.03632765017471536, 0.008872951906470151, 0.9168901695392628, 0.5373676478765514, 0.16934953270289158]

blocked_probability = [0.14814814814814814, 0.02127659574468085, 0.047619047619047616, 0.01098901098901099, 0.21212121212121213, 0.0, 0.027472527472527472, 0.022321428571428572, 0.16831683168316833, 0.4836795252225519, 0.028846153846153848, 0.2620967741935484, 0.007874015748031496, 0.6164383561643836, 0.0, 0.025423728813559324, 0.0, 0.0, 0.0, 0.05042016806722689, 0.17218543046357615, 0.0, 0.05194805194805195, 0.0, 0.0, 0.19607843137254902, 0.0, 0.13934426229508196, 0.13829787234042554, 0.0, 0.012578616352201259, 0.706359945872801, 0.058823529411764705, 0.0, 0.0, 0.0, 0.0, 0.037037037037037035, 0.017241379310344827, 0.07547169811320754, 0.0, 0.03225806451612903, 0.0013708019191226869, 0.0297029702970297, 0.0743801652892562, 0.40852974186307517, 0.0, 0.0830188679245283, 0.023809523809523808, 0.0, 0.5207100591715976, 0.4235294117647059]
average_waiting_time = [0.2305606072187187, 0.07759957264967134, 0.055664226025220115, 0.04771155818059407, 0.7599957471120865, 0.0, 0.05819028871454394, 0.04003169691233355, 0.5288338033646026, 1.491155106493993, 0.07726789047675534, 0.652566564705046, 0.05946989385919805, 4.657018752920813, 0.06707471565916978, 0.09967653456838296, 0.0, 0.013691200016353378, 0.0, 0.1114618969215962, 0.5370037617252329, 0.009054101259874185, 0.17972176166152942, 0.022420047545745923, 0.0, 0.706776403448694, 0.03479102783324567, 0.4229815314556175, 0.4271169900978975, 0.024063802181342086, 0.05397915961206187, 1.8461822474905052, 0.06415433596673632, 0.005040855878700308, 0.023949383837552886, 0.02446048433515879, 0.027265529496473987, 0.10046194306162264, 0.02921771524421526, 0.2076619195071037, 0.017007719772333958, 0.03611524078169462, 0.03998571759972434, 0.15215477482214565, 0.15994663604514175, 0.9933646747998651, 0.005841928195584493, 0.3007114999382268, 0.03834024271034967, 0.0, 1.7055168563040344, 1.2193540007840256]
patients_num = [23.2, 56.8, 44.8, 55.9, 77.18, 67.76666666666667, 80.75714285714285, 98.8, 97.55555555555556, 119.59, 147.35454545454544, 153.74166666666667, 169.65384615384616, 162.62857142857143, 162.82, 159.6875, 155.78823529411764, 148.49444444444444, 141.86315789473684, 146.495, 146.56190476190477, 143.93636363636364, 140.89565217391305, 136.99166666666667, 133.408, 131.7423076923077, 127.81111111111112, 127.225, 126.24137931034483, 122.82, 123.8225806451613, 142.2625, 138.54545454545453, 137.35882352941175, 134.1942857142857, 134.86944444444444, 132.66216216216216, 129.79736842105262, 127.67692307692307, 129.62, 128.16341463414633, 125.65238095238095, 154.32093023255814, 152.9568181818182, 151.49555555555557, 168.20652173913044, 171.11702127659575, 172.8625, 170.28979591836736, 167.352, 170.66470588235293, 173.33653846153845]

a = np.array(utility_matrix) * np.array(blocked_probability)

print(len([i for i in a if i<=0.1]))

l = np.arange(1, 53, 1)
plt.plot(l, a)
plt.xlabel('scene place label')
plt.ylabel('hindering factor')
plt.title('hindering factor in scene places')
plt.show()

